{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Persons.js","components/Filter.js","components/Notification.js","services/PersonService.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Person","person","deletePerson","name","number","onClick","id","Persons","persons","map","key","Filter","filterName","handleFilter","Notification","msg","className","url","axios","get","then","response","data","newPerson","post","delete","index","updatedPerson","request","put","console","log","App","useState","setPersons","setNewName","setNewNumber","setFilterName","showAll","setShowAll","notifMsg","setNotifMsg","useEffect","personService","initNotes","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","lastId","Math","max","apply","personObject","find","window","confirm","indexOfExisting","findIndex","idOfExisting","oldNameNewNumber","tempPers","splice","setTimeout","alert","returnedObject","concat","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c6b94621.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n    <form onSubmit= {props.addPerson}>\r\n        <div>name: <input value={props.newName} onChange={props.handleNameChange}/></div>\r\n        <div>number: <input value={props.newNumber} onChange={props.handleNumberChange}/></div>\r\n        <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n    return (\r\n    <li>{person.name} {person.number}<button onClick={() => deletePerson(person.id, person.name)}>delete</button></li>\r\n    )\r\n  }\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, deletePerson}) => {\r\n    return (\r\n      persons.map((person) => <Person key={person.name} person={person} deletePerson={deletePerson}/>)\r\n    )\r\n  }\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>Filter shown with Name:\r\n             <input value={props.filterName} onChange={props.handleFilter}>\r\n                 </input></div>\r\n    )\r\n} \r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ msg }) => {\r\n    if (msg === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"notif\">\r\n            {msg}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst url = '/api/persons'\r\n\r\nconst getPersons = () => {\r\n    const request = axios.get(url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst createPerson = newPerson => {\r\n    const request = axios.post(url, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${url}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst putNumber = (index, updatedPerson) => {\r\n    const request = axios.put(`http://localhost:3001/persons/${index}`, {\r\n        name: updatedPerson.name,\r\n        number: updatedPerson.number,\r\n        id: updatedPerson.id\r\n    })\r\n    console.log('putNumber called into id: ', updatedPerson.id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getPersons, createPerson, deletePerson, putNumber }","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/PersonService'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([\r\n    /*{ name: 'Arto Hellas', number: '040-123456' },\r\n    { name: 'Ada Lovelace', number: '39-44-5323523' },\r\n    { name: 'Dan Abramov', number: '12-43-234345' },\r\n    { name: 'Mary Poppendieck', number: '39-23-6423122' } */\r\n  ]) \r\n\r\n  const [ newName, setNewName ] = useState('test')\r\n  const [ newNumber, setNewNumber ] = useState('123123')\r\n  const [ filterName, setFilterName ] = useState('')\r\n  const [ showAll, setShowAll] = useState(true)\r\n  const [ notifMsg, setNotifMsg ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    console.log('effect hook')\r\n    personService\r\n      .getPersons()\r\n      .then(initNotes => { setPersons(initNotes) })\r\n  }\r\n  , [])\r\n\r\n  // Handles showAll when filterName changes --> solve \"one-step-behind\" filter problem\r\n  useEffect(() => {\r\n    console.log('useEffect for filterName')\r\n    if (filterName !== '' && showAll === true) {setShowAll(!showAll)}\r\n    if (filterName === '' && showAll === false) {setShowAll(!showAll)}\r\n  }, [filterName, showAll])\r\n\r\n  const personsToShow = showAll \r\n  ? persons \r\n  : persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase())) \r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    console.log('button clicked', event.target)\r\n\r\n    const lastId = Math.max.apply(null, persons.id)\r\n    const newId = lastId + 1\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n      id: newId\r\n    }\r\n\r\n    if (persons.find( ({name}) => name === newName)) {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const indexOfExisting = persons.findIndex(person => person.name === newName)\r\n        const idOfExisting = persons[indexOfExisting].id\r\n        console.log('idOfExisting: ', idOfExisting)\r\n\r\n        const oldNameNewNumber = {\r\n          name: personObject.name,\r\n          number: personObject.number,\r\n          id: idOfExisting\r\n        }\r\n\r\n        personService\r\n          .putNumber(indexOfExisting+1, oldNameNewNumber)\r\n          .then(() => {\r\n            const tempPers = persons\r\n            tempPers.splice(indexOfExisting, 1, oldNameNewNumber)\r\n            setPersons(tempPers)\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setNotifMsg(`Modified ${oldNameNewNumber.name}'s number to: ${oldNameNewNumber.number}`)\r\n            setTimeout(() => {\r\n              setNotifMsg(null)\r\n            }, 2000)\r\n          })  \r\n      }\r\n    }\r\n    else if (persons.find( ({number}) => number === newNumber)){\r\n      window.alert(`${newNumber} is already added to phonebook`)\r\n    }\r\n    else {\r\n      personService\r\n        .createPerson(personObject)\r\n        .then(returnedObject => { \r\n          setPersons(persons.concat(returnedObject))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setNotifMsg(`Added ${returnedObject.name}`)\r\n          setTimeout(() => {\r\n            setNotifMsg(null)\r\n          }, 2000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const deletePerson = (id, name) => {\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n      personService\r\n      .deletePerson(id)\r\n      .then( () => {\r\n        const newPersons = persons.filter(person => person.id !== id)\r\n        setPersons(newPersons)\r\n        setNotifMsg(`Succesfully deleted ${name}`)\r\n        setTimeout(() => {\r\n          setNotifMsg(null)\r\n        }, 2000)\r\n      })\r\n    }\r\n  }\r\n \r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n    setFilterName(event.target.value) \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification msg={notifMsg}/>\r\n      <Filter filterName={filterName} handleFilter={handleFilter}/>\r\n      <h2>Add new person</h2>\r\n      <PersonForm addPerson={addPerson} newName={newName}\r\n       handleNameChange={handleNameChange} newNumber={newNumber} \r\n       handleNumberChange={handleNumberChange}/>\r\n      <h2>Numbers</h2>\r\n      <Persons persons={personsToShow} deletePerson={deletePerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}